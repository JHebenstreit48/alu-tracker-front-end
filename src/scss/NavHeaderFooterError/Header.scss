@use 'sass:color';
@use '@scss/Globals/index' as *;

/* ==============================
   Local tokens / fallbacks
   (Keep these until you centralize them in Globals)
============================== */
$gold-text: rgb(255, 196, 0) !default;
$header-gradient: linear-gradient(to bottom, #090113 1%, #554e4e 42%, #000000 94%) !default;
$box-shadow-dark: 0 2px 5px #5b1479 !default;

$mobileMaxWidthPortrait: 480px !default;
$tablet-max: 768px !default;

/* ==============================
   Header Wrapper
============================== */
.Header {
  position: sticky;
  top: 0;
  left: 0;
  width: 100%;
  background-image: $header-gradient; /* gradient spans title + nav */
  color: $gold-text;
  box-shadow: $box-shadow-dark;
  z-index: 99;
}

/* 1fr | auto | 1fr keeps the title truly centered */
.Header__inner {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  align-items: center;
  gap: clamp(0.5rem, 1.5vw, 1rem);
  padding-inline: clamp(0.75rem, 2vw, 2rem);
  min-height: clamp(4.75rem, 8.5vw, 7.75rem);
}

/* place the title in the middle track, auth to the right */
.PageHeader { grid-column: 2; }
.Header__auth { grid-column: 3; justify-self: end; }

/* nav sits on the same gradient; hairline separators for structure */
/* Gold divider + subtle “shelf” for the nav row */
$gold-accent: rgb(223, 190, 7);

.Header__navRow {
  position: relative;
  /* slightly lighter shelf so the gradient still reads */
  background-image: linear-gradient(
    to bottom,
    rgba(0,0,0,.12) 0%,
    rgba(0,0,0,.38) 100%
  );
  /* gentler depth */
  box-shadow:
    inset 0 6px 10px rgba(0,0,0,.22),
    inset 0 -4px 8px rgba(0,0,0,.30);
  /* breathing room between gold line and labels */
  padding-top: .35rem;
  padding-bottom: .15rem;
}

/* top gold line: a touch thinner + softer glow */
.Header__navRow::before {
  content: "";
  position: absolute;
  inset: 0 0 auto 0;
  height: 1.5px;                 /* was 2px */
  background: linear-gradient(
    90deg,
    rgba(223,190,7,0) 0%,
    rgba(223,190,7,.28) 12%,
    rgba(223,190,7,.85) 50%,
    rgba(223,190,7,.28) 88%,
    rgba(223,190,7,0) 100%
  );
  box-shadow:
    0 0 6px rgba(223,190,7,.28),
    0 0 1px rgba(223,190,7,.6) inset;
  pointer-events: none;
}

/* faint bottom finish to “cap” the shelf without a box */
.Header__navRow::after {
  content: "";
  position: absolute;
  inset: auto 0 0 0;
  height: 1px;
  background: linear-gradient(
    90deg,
    rgba(223,190,7,0) 0%,
    rgba(223,190,7,.14) 50%,
    rgba(223,190,7,0) 100%
  );
  opacity: .55;
  pointer-events: none;
}

/* optional: tame underline collision on very small screens */
@media (max-width: 560px) {
  .btn-lg::after { bottom: -4px; } /* was -6px */
}

/* ==============================
   Title styling (modernized)
============================== */
.PageHeader {
  margin: 0;
  text-align: center;
  line-height: 1.12;
  max-width: min(95vw, 1200px);

  /* swapable display face; defaults to Cinzel Decorative */
  font-family: var(--display-font, "Cinzel"), serif;
  text-transform: none;
  letter-spacing: .01em;

  font-size: clamp(1.6rem, 4.8vw, 3.2rem);
  text-wrap: balance;
  overflow-wrap: anywhere;

  /* 2-line clamp */
  line-clamp: 2;
  -webkit-line-clamp: 2;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Cars list */
.carsHeader .PageHeader {
  font-size: clamp(1.8rem, 5vw, 3.2rem);
}

/* CarDetails: extra breathing space + slightly smaller clamp */
.carDetailsHeader .Header__inner {
  min-height: clamp(5.25rem, 10vw, 8.75rem);
}
.carDetailsHeader .PageHeader {
  font-size: clamp(1.35rem, 3.6vw, 2.55rem);
  max-width: min(92vw, 1200px);
  letter-spacing: .02em;
}

@media only screen and (max-width: $tablet-max) {
  .Header__inner { grid-template-columns: 1fr auto 1fr; }
}