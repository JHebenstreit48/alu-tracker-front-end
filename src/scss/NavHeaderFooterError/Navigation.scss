@use 'sass:color';
@use '@scss/Globals/index' as *;

/* ==============================
   Tokens
============================== */
$gold-accent: rgb(223, 190, 7);
$purple-glow: #7a05be;

$mobileMaxWidthPortrait: 480px;
$tablet-max: 768px;

/* ==============================
   Hamburger (mobile-only, bullet-proof)
============================== */
.Hamburger {
  display: none; /* default: hidden on desktop */
  position: absolute;
  top: 0.5rem;
  left: 0.75rem;
  background: none;
  color: $gold-accent;
  font-size: 2rem;
  z-index: 101;
  border: none;

  &:focus-visible {
    outline: 2px solid $gold-accent;
    outline-offset: 2px;
  }
}
@media (max-width: $mobileMaxWidthPortrait) { .Hamburger { display: block; position: fixed; } }
@media (min-width: #{($mobileMaxWidthPortrait + 1px)}) { .Hamburger { display: none !important; } }

/* ==============================
   Wrapper
   - Transparent on desktop so header gradient shows through
============================== */
.NavigationWrapper {
  position: static;
  width: 100%;
  background: transparent;
  padding-block: 0.5rem;
  z-index: 100;
}

/* Mobile drawer: solid bg so content doesn’t bleed through */
@media (max-width: $mobileMaxWidthPortrait) {
  .NavigationWrapper {
    position: fixed;
    top: clamp(3.5rem, 9vw, 6rem);
    left: 0;
    height: calc(100dvh - clamp(3.5rem, 9vw, 6rem));
    width: 70%;
    background-color: #2a0055;
    padding: 1rem 0.5rem;
    transform: translateX(-100%);
    transition: transform 0.3s ease-in-out;

    &.open { transform: translateX(0); }
  }
}

/* ==============================
   Layout
============================== */
.nav-css {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: clamp(0.25rem, 1.2vw, 1rem);
  padding: 0;
  margin: 0;
  list-style: none;

  @media (max-width: $tablet-max) { flex-wrap: wrap; }
  @media (max-width: $mobileMaxWidthPortrait) {
    flex-direction: column;
    align-items: stretch;
    gap: 0.25rem;
  }
}

/* ==============================
   Buttons-as-tabs
   – No blue box. Clean underline on hover/focus/active.
============================== */
.btn-primary {
  font-family: "Cinzel", serif; /* swap to "Cinzel Decorative" if desired */
  font-weight: 700;
  background: none;
  border: none;
  border-radius: 0;
}

/* kill default tap highlight on mobile */
.nav-css, .btn-lg { -webkit-tap-highlight-color: transparent; }

.btn-lg {
  position: relative;
  min-height: 44px;
  padding: 0.25rem clamp(0.5rem, 1.4vw, 0.75rem);
  color: $gold-accent;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  text-shadow: 0 2px 2px rgba(122, 5, 190, 0.7);
  text-decoration: none;

  /* Remove any default backgrounds/boxes from frameworks */
  background: transparent !important;
  box-shadow: none !important;

  transition: opacity 120ms ease, transform 120ms ease;

  /* Animated gold underline (appears on hover/focus/active) */
  &::after {
    content: "";
    position: absolute;
    left: 10%;
    right: 10%;
    bottom: -6px;
    height: 2px;
    border-radius: 2px;
    background: linear-gradient(
      90deg,
      rgba(223, 190, 7, 0.2),
      rgba(223, 190, 7, 1),
      rgba(223, 190, 7, 0.2)
    );
    transform: scaleX(0);
    transform-origin: center;
    transition: transform 180ms ease, height 120ms ease;
  }

  /* Hover: subtle lift + show underline. No blue box. */
  &:hover {
    opacity: 0.95;
    transform: translateY(-1px);
  }
  &:hover::after { transform: scaleX(1); }

  /* Focus (keyboard): accessible, non-boxy glow + thicker underline */
  &:focus { outline: none; }
  &:focus-visible {
    text-shadow:
      0 2px 2px rgba(122, 5, 190, 0.9),
      0 0 6px rgba(223, 190, 7, 0.55),
      0 0 14px rgba(223, 190, 7, 0.25);
  }
  &:focus-visible::after {
    transform: scaleX(1);
    height: 3px;
    filter: drop-shadow(0 0 6px rgba(223, 190, 7, 0.45));
  }
}

/* Active page: persistent underline + slight glow (no borders/box) */
.is-active {
  text-shadow:
    0 2px 2px rgba(122, 5, 190, 0.9),
    0 0 6px rgba(223, 190, 7, 0.55);
}
.is-active::after { transform: scaleX(1); }

/* Legacy class cleanup (prevents side borders if present anywhere) */
.active-link { border: none !important; }

/* Motion preference */
@media (prefers-reduced-motion: reduce) {
  .btn-lg { transition: none; }
  .btn-lg::after { transition: none; }
}